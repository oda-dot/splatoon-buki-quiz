## アプリについて

- 作成したいアプリ
  - ゲーム「スプラトゥーン3」に登場するブキの射程クイズゲーム

- ゲームの流れ
  - 「スタート」をクリックするとクイズスタート
  - 全30種類のブキからランダムで異なる2つのブキの画像が横並びで表示される
  - プレイヤーは、2つのブキのうち、射程が長いと思うブキの画像をクリックする
  - プレイヤーがクリックしたブキのほうが、もう一方のブキの射程より長ければ正解とし、「〇」の画像と「次の問題へ」を表示する。プレイヤーがクリックしたブキのほうが、もう一方のブキの射程より短ければ不正解とし、「×」の画像と「次の問題へ」を表示する。
  - 「次の問題へ」をクリックすると、次の問題が表示される。これを全10問実施する。
  - 10問目の回答の後は「次の問題へ」ではなく、「結果を見る」と表示する。
  - 「結果を見る」をクリックすると、回答結果画面が表示される。回答結果画面では、正答率と全10問の回答結果、「リトライ」が表示される。正答率はn%のように表示される。回答結果はスクロール可能なテーブルで表示され、設問ごとのブキの画像と、正解/不正解の結果が1つの行で表示される。選択しなかったブキの画像はグレーアウトで表示されるので、どちらを選択したかわかるようになっている。「リトライ」をクリックすると、スタート画面に戻る。

- 実装についての情報
  - WEBアプリだが、スマートフォンでの利用を想定
  - 言語はtypescript
  - フレームワークは使用しない
  - DBは使用しない。ブキの射程などの情報はJSONで管理する
    - 専用のtsファイルを用意してあげて、読み込む
  - SQLiteというサーバーを立てずに（WEBサーバーに置く）DBを使うようなシステムもある（今回は見送り）

## 開発メモ

- 技術スタック

| カテゴリ | 技術 |
| -------- | ---- |
| プログラミング言語 | Typescript |
| 実行環境 | Node.js v20.11.0 |
| ビルドツール | Vite |
| パッケージマネージャー | npm |
| データベース技術 | 使用しない |
| フロントエンドフレームワーク | 使用しない |
| バックエンドフレームワーク | 使用しない |


- フレームワークどうする
  - 便利らしいが、最初から使うと便利さがわからないので今回は使わない
  
- DBどうする
  - 一旦使わない方向で
    - プレイヤー情報やクイズレコードの保存するなら必要だけど、時間もないので今後の追加課題としたい
    - ブキの情報はJSONだけでなんとかなる気がする（なんとなく）

- gitが使えない
  - gitのインストール
  - 使い慣れたgitBashをVSCodeで使えるよう設定

- git hubでリポジトリを作成したがgit cloneできない
  - SSH認証の設定
    - SSHキーの発行
    - git hubでSSHキーの登録
  - プロジェクトディレクトリの権限確認
    - 権限は問題なさそうだがgit cloneどころかmkdirもrmもできない
    - /OneDrive/ドキュメントではできないが、/OneDrive配下ならできた

- node.jsのインストール
  - 公式サイトからインストーラをダウンロード
  - nodeコマンドがnot foundになる
    - Powershellでは使えるが、Vscodeで使っているgit bashだと使えない
    - 環境変数の編集をしてPC再起動で使えた

- typescriptのインストール
  - npm install typescript
  - インストールオプション
    - g
      - パッケージをシステム全体で利用できるようにする。
      - typescriptはどこでも使えるようにしたいから、このオプションを使ってインストールした
    - save-dev
      - プロジェクトの package.json ファイルの devDependencies セクションに入る
      - 開発時にのみ使用されるパッケージに適する

- tsconfig.jsonをつくる
  - これを読んだ。https://typescriptbook.jp/reference/tsconfig/tsconfig.json-settings
    - Node.jsがtypescriptを認識するために必要な設定ファイル？
    - target
      - どのバージョンのJavascript向けにコンパイル出力するか
      - Javascriptの使用できる記法、オブジェクト、関数の定義に影響する
      - EcmaScript
        - https://qiita.com/kotaro-caffeinism/items/bcb6866f07aae4eed679
          - Javascriptの規格のこと
      - https://www.typescriptlang.org/ja/tsconfig#target
      - [tsconfig.jsonのよく使いそうなオプションを理解する](https://zenn.dev/chida/articles/bdbcd59c90e2e1)によると、[https://node.green/](https://node.green/)を参照すればNode.jsのバージョン毎に推奨されるtargetがわかるらしい
        - 見方がよくわからなかった。左上にNode.js ES2015 Supportとあるので、ES2015についてしか書かれていないのでは？よくわからない。
      - [tsconfig.jsonを書くときはTSConfig Basesを使うと便利](https://qiita.com/munieru_jp/items/a67ac782bbf099d90128)
        - Node.jsのバージョンによって最適なtsconfigを配布しているらしいので、使ってみる
          - https://github.com/tsconfig/bases?tab=readme-ov-file#node-20-tsconfigjson
    - lib
      - targetで指定したJavascriptでまかなえない機能を使えるようにする
      - 設定するときは、どのtargetのlibを使うか明記する必要がある
    - extends
      - 別のtsconfig.jsonを利用するときに設定する
      - 今回は、TSConfig Basesを使うことにしたので、とりあえずこれだけを設定した

- ReactやNext.jsを使った記事が多い
- フレームワークを使わないことをvanillaというらしいので検索ワードに含めた
- [vanillaのTypeScriptでToDoアプリを作成](https://qiita.com/masayasviel/items/577020381900c529a1cc)
  - 「あえてフレームワークを使わないことで、フレームワークのありがたみを知ろう」という今回にぴったりなコンセプトの記事
    - parcelが何かわからない
      - 「モジュールバンドラ」の一種らしい
- モジュールバンドラ
  - 参考
    - [Parcelについて調べてみた](https://zenn.dev/ymmt1089/articles/20220422_parcel)
    - [webpackの基礎を学習する](https://zenn.dev/soarflat/books/a673b77fce39082e2324/viewer/598f41f4ab9db5fea073)
    - [webpack 入門ハンズオン - 最小アプリを実際に作成してモジュールバンドラの利点を理解する](https://qiita.com/TsutomuNakamura/items/70dd97dcbdc02bef2706)
  - 複数のHTMLやCSSなどのモジュールファイルをバンドルファイルにまとめてくれるツール
  - 目的
    - html から呼び出すJS を1 ファイルにまとめる
    - モジュール内で定義した変数や関数をモジュール内で完結させられるようになる
      - モジュール間の変数名や関数名の重複によるバグを防ぐ
      - 他モジュールの変数や関数に依存するプログラムは作れなくなるので、呼び出し順序依存によるエラーを取り除くことができる
  - バンドル
    - 「まとめられたファイル（バンドルファイル）」のこと
  - モジュール
    - バンドルしたいファイルのこと
  - 代表的なモジュールバンドラ
    - webpack
    - gulp
    - esbuild
    - rollup
    - Parcel
      - 環境構築が手軽らしい
      - webpackでは必要な設定ファイルの記述が不要なので、詳細な設定はできないが学習コストが小さい
- [Viteでvanilla-tsアプリを作成する](https://qiita.com/miruon/items/58b9cc4dbabc3f945ede)
  - フレームワークではなく「ビルドツール」らしい
  - Chat-GPTに聞いたこと
    - viteはフレームワークですか？
      - Viteはフレームワークではない
      - Viteは、モダンなフロントエンド開発のためのビルドツールおよび開発環境
      - JavaScript、TypeScript、Vue、Reactなどのフレームワークやライブラリと連携して使用されるが、Vite自体はアプリケーションの構造やコンポーネント設計を提供するフレームワークではなく、主にビルド最適化と高速な開発サーバー機能を提供する
    - viteはParcelのようなバンドラですか？
      - ViteはParcelと同様に、フロントエンドのビルドツールでありバンドラですが、いくつかの重要な違いがある
      - ビルドの仕組み: Viteは開発時にはES Modulesを利用し、ブラウザが直接モジュールを読み込むことを可能にします。一方でParcelは、開発と本番の両方でモジュールをバンドルします。
      - パフォーマンス: Viteは開発時の起動速度やホットモジュールリプレースメント（HMR）が非常に高速です。Parcelも高速なビルドとHMRを提供しますが、Viteは特にこれらの面で優れています。
      - 設定: Viteはデフォルト設定で多くのユースケースをカバーし、設定が最小限です。Parcelも「ゼロ設定」を目指していますが、Viteは特にVueやReactのプロジェクトでの設定の簡単さにおいて優れています。
      - 対応フレームワーク: ViteはVueの開発者によって作られ、Vueでの利用に最適化されていますが、ReactやSvelteなど他のフレームワークにも対応しています。Parcelはより汎用的で、多くのフレームワークやライブラリに対応しています。
    - Viteではバンドル手法を採らないのでしょうか？
      - Viteは開発時と本番ビルド時で異なるアプローチを採用しています。
      - 開発時: 開発中、Viteはモジュールをバンドルせず、ES Modulesを利用しています。これにより、必要なファイルのみが要求に応じてブラウザによって読み込まれ、開発の起動時間が短縮され、ホットモジュールリプレースメント（HMR）が高速になります。
      - 開発時: 開発中、Viteはモジュールをバンドルせず、ES Modulesを利用しています。これにより、必要なファイルのみが要求に応じてブラウザによって読み込まれ、開発の起動時間が短縮され、ホットモジュールリプレースメント（HMR）が高速になります。
- 

- URLを変えずに画面を出しわける
  - 画面ごとの要素に個別のidとhiddenクラス（display:none）を持たせる
  - 画面ごとの要素を切り替えるための関数を作成する

- index.htmlで読み込みたいscript.tsが読み込まれない
  - HTMLファイルでTypeScriptファイルを直接参照するのではなく、コンパイルされたJavaScriptファイルを参照する必要がある
  - type="module"属性をscriptタグに追加する
    - これを追加することで、HTMLファイル内でJavaScriptファイルをモジュールとして扱うことができる
    - この属性を追加することで、JavaScriptファイル内でimport/exportを使うことができる
  - モジュール：

- 要素取得のnullチェックをスマートにする方法あれば知りたい

## アップデート案
- 設問内容が重複しないようにブキ取得時に回答履歴と照合したい
- 回答後に時間経過で次の問題に自動遷移したほうがいいかも
- 丸バツ表示のアニメーション css
- 問題切り替えアニメーション
- ランキング機能
- サーモンラン版クイズ
  - 専用ブキの威力
  - オカシラの体力とか
- ブキ図鑑（ブキチの説明とか見れるといいよね）
  - ブキカテゴリごとに威力、射程、連射でソート
- CRUDで画面から自分でブキのデータを登録・編集できる

## 次の案
- ブキのデータをとるAPI

## 修正案

- 結果画面
  - 選んだほうを目立たせるより、正解の方を目立たせ他方がいいかも
  - 回答後モーダルの上に射程とかの情報出すならクリックして次にいくでもいいかも

## サングラス

青レンズなら薄めか濃いグラデ
